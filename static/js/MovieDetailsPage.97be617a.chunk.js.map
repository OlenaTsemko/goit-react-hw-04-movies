{"version":3,"sources":["components/MovieDetails/MovieDetails.module.scss","components/Cast/Cast.module.scss","components/Reviews/Reviews.module.scss","pages/MovieDetailsPage/MovieDetailsPage.module.scss","components/MovieDetails/MovieDetails.jsx","images/supermanPlaceholder.png","images/superwomanPlaceholder.jpg","components/Cast/Cast.jsx","components/Reviews/Reviews.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesApi.js","images/moviePlaceholder.png","components/Notification/Notification.jsx","components/Notification/Notification.module.scss"],"names":["module","exports","MovieDetails","poster_path","original_title","release_date","vote_average","overview","genres","className","styles","src","alt","moviePlaceholder","MovieDetailsWrapper","title","detailWrapper","titleDetails","text","length","map","genre","name","id","defaultProps","withRouter","movieId","useState","cast","setCast","useEffect","moviesApi","fetchMovieCredits","then","data","Cast","profile_path","original_name","character","gender","castItem","supermanPlaceholder","superwomanPlaceholder","castName","Reviews","reviews","setReviews","message","setMessage","fetchMovieReviews","author","content","reviewsItem","reviewsAuthor","reviewsContent","Notification","MovieDetailsPage","props","movie","setMovie","match","params","url","path","history","location","fetchMovieDetails","isNaN","goBackBtn","type","onClick","push","state","from","routes","addInfo","titleAddInfo","listAddInfo","to","pathname","NavLink","activeClassName","NavLinkActive","render","axios","defaults","baseURL","api_key","fetchTrendingMovies","a","get","console","log","fetchSearchMovies","searchQuery","results"],"mappings":"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","file":"static/js/MovieDetailsPage.97be617a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieDetails\":\"MovieDetails_MovieDetails__16pit\",\"MovieDetailsWrapper\":\"MovieDetails_MovieDetailsWrapper__1fglR\",\"title\":\"MovieDetails_title__2CVSO\",\"detailWrapper\":\"MovieDetails_detailWrapper__1waDF\",\"titleDetails\":\"MovieDetails_titleDetails__1Z6oD\",\"text\":\"MovieDetails_text__2Gjhs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cast\":\"Cast_Cast__1LyqA\",\"castItem\":\"Cast_castItem__2z3Nk\",\"castName\":\"Cast_castName__37yV8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Reviews\":\"Reviews_Reviews__uSiNJ\",\"reviewsItem\":\"Reviews_reviewsItem__32J7Z\",\"reviewsAuthor\":\"Reviews_reviewsAuthor__3e9_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addInfo\":\"MovieDetailsPage_addInfo__cdf81\",\"listAddInfo\":\"MovieDetailsPage_listAddInfo__2cEN1\",\"NavLink\":\"MovieDetailsPage_NavLink__1LtAA\",\"NavLinkActive\":\"MovieDetailsPage_NavLinkActive__tfHRC\",\"goBackBtn\":\"MovieDetailsPage_goBackBtn___NTRM\"};","import PropTypes from 'prop-types';\n\nimport moviePlaceholder from 'images/moviePlaceholder.png';\nimport styles from './MovieDetails.module.scss';\n\nconst MovieDetails = ({\n  poster_path,\n  original_title,\n  release_date,\n  vote_average,\n  overview,\n  genres,\n}) => {\n  return (\n    <div className={styles.MovieDetails}>\n      {poster_path ? (\n        <img\n          src={`https://image.tmdb.org/t/p/w300${poster_path}`}\n          alt={`poster of ${original_title}`}\n        />\n      ) : (\n        <img src={moviePlaceholder} alt={`poster of ${original_title}`} />\n      )}\n\n      <div className={styles.MovieDetailsWrapper}>\n        <h2 className={styles.title}>{original_title}</h2>\n\n        {release_date && (\n          <div className={styles.detailWrapper}>\n            <p className={styles.titleDetails}>Release Date: </p>\n            <span>{release_date}</span>\n          </div>\n        )}\n        {vote_average && (\n          <div className={styles.detailWrapper}>\n            <p className={styles.titleDetails}>User Score: </p>\n            <span>{vote_average}/10</span>\n          </div>\n        )}\n        {overview && (\n          <div className={styles.detailWrapper}>\n            <h3>Overview: </h3>\n            <p className={styles.text}>{overview}</p>\n          </div>\n        )}\n        {genres.length > 0 && (\n          <div className={styles.detailWrapper}>\n            <h3 className={styles.titleDetails}>Genres:</h3>\n            <ul>\n              {genres.map(genre => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nMovieDetails.defaultProps = {\n  release_date: 'Unknown release date',\n  vote_average: 'No votes found',\n};\n\nMovieDetails.propTypes = {\n  poster_path: PropTypes.string,\n  original_title: PropTypes.string.isRequired,\n  release_date: PropTypes.string,\n  vote_average: PropTypes.number,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nexport default MovieDetails;\n","export default __webpack_public_path__ + \"static/media/supermanPlaceholder.60bed9ec.png\";","export default __webpack_public_path__ + \"static/media/superwomanPlaceholder.2e5d3757.jpg\";","import { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport moviesApi from 'services/moviesApi';\nimport supermanPlaceholder from 'images/supermanPlaceholder.png';\nimport superwomanPlaceholder from 'images/superwomanPlaceholder.jpg';\nimport styles from './Cast.module.scss';\n\nconst Cast = ({ movieId }) => {\n  const [cast, setCast] = useState([]);\n\n  useEffect(() => {\n    moviesApi.fetchMovieCredits(movieId).then(data => setCast(data));\n  }, [movieId]);\n\n  return (\n    cast && (\n      <ul className={styles.Cast}>\n        {cast.map(({ id, profile_path, original_name, character, gender }) => (\n          <li className={styles.castItem} key={id}>\n            {profile_path ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w200${profile_path}`}\n                alt={`poster of ${original_name}`}\n              />\n            ) : gender === 2 ? (\n              <img\n                src={supermanPlaceholder}\n                alt={`poster of ${original_name}`}\n              />\n            ) : (\n              <img\n                src={superwomanPlaceholder}\n                alt={`poster of ${original_name}`}\n              />\n            )}\n            <h2 className={styles.castName}>{original_name}</h2>\n            <p>Character: {character} </p>\n          </li>\n        ))}\n      </ul>\n    )\n  );\n};\n\nCast.propTypes = {\n  movieId: PropTypes.string.isRequired,\n};\n\nexport default withRouter(Cast);\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Notification from 'components/Notification';\nimport moviesApi from 'services/moviesApi';\nimport styles from './Reviews.module.scss';\n\nconst Reviews = ({ movieId }) => {\n  const [reviews, setReviews] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    moviesApi.fetchMovieReviews(movieId).then(data => {\n      setReviews(data);\n\n      data.length === 0 &&\n        setMessage(\"We don't have any reviews for this movie\");\n    });\n  }, [movieId]);\n\n  return reviews?.length > 0 ? (\n    <ul className={styles.Reviews}>\n      {reviews.map(({ id, author, content }) => (\n        <li className={styles.reviewsItem} key={id}>\n          <h2 className={styles.reviewsAuthor}>Author: {author}</h2>\n          <p className={styles.reviewsContent}>{content}</p>\n        </li>\n      ))}\n    </ul>\n  ) : (\n    <Notification message={message} />\n  );\n};\n\nReviews.propTypes = {\n  movieId: PropTypes.string.isRequired,\n};\n\nexport default Reviews;\n","import { useState, useEffect } from 'react';\nimport { Route, NavLink } from 'react-router-dom';\n\nimport MovieDetails from 'components/MovieDetails';\nimport Notification from 'components/Notification';\nimport Cast from 'components/Cast';\nimport Reviews from 'components/Reviews';\n\nimport moviesApi from 'services/moviesApi';\nimport routes from 'routes';\nimport styles from './MovieDetailsPage.module.scss';\n\n// const Cast = lazy(() =>\n//   import('components/Cast' /* webpackChunkName: \"Cast\" */),\n// );\n// const Reviews = lazy(() =>\n//   import('components/Reviews' /* webpackChunkName: \"Reviews\" */),\n// );\n\nconst MovieDetailsPage = props => {\n  const [movie, setMovie] = useState(null);\n  const [message, setMessage] = useState('');\n\n  const { movieId } = props.match.params;\n  const { url, path } = props.match;\n  const { history, location } = props;\n\n  useEffect(() => {\n    moviesApi.fetchMovieDetails(movieId).then(data => {\n      if (isNaN(movieId)) {\n        setMessage('No such movie found');\n        setMovie(null);\n        return;\n      }\n\n      setMovie(data);\n\n      data ?? setMessage('No such movie found');\n    });\n  }, [movieId]);\n\n  const handleGoBack = () => {\n    // location.state && location.state.from\n    //   ? history.push(location.state.from)\n    //   : history.push(routes.home);\n\n    history.push(location?.state?.from || routes[0].path); // аналогично верхнему тернарнику\n  };\n\n  return movie ? (\n    <>\n      <button className={styles.goBackBtn} type=\"button\" onClick={handleGoBack}>\n        Go back\n      </button>\n      <MovieDetails {...movie} />\n      <div className={styles.addInfo}>\n        <h3 className={styles.titleAddInfo}>Additional information</h3>\n        <ul className={styles.listAddInfo}>\n          <li>\n            <NavLink\n              to={{\n                ...location,\n                pathname: `${url}/cast`,\n              }}\n              className={styles.NavLink}\n              activeClassName={styles.NavLinkActive}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              to={{\n                ...location,\n                pathname: `${url}/reviews`,\n              }}\n              className={styles.NavLink}\n              activeClassName={styles.NavLinkActive}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n      {/* <Suspense fallback={<Loader />}> */}\n      <Route\n        path={`${path}/cast`}\n        render={props => <Cast {...props} movieId={movieId} />}\n      />\n      <Route\n        path={`${path}/reviews`}\n        render={props => <Reviews {...props} movieId={movieId} />}\n      />\n      {/* </Suspense> */}\n    </>\n  ) : (\n    <Notification message={message} />\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'f961efdd5892a3a495952701e4bb1df1';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: API_KEY };\n\nconst fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(`/trending/movie/day?page=1`);\n\n    return data;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchSearchMovies = async searchQuery => {\n  try {\n    const { data } = await axios.get(\n      `/search/movie?page=1&query=${searchQuery}`,\n    );\n\n    return data;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchMovieDetails = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}?`);\n\n    return data;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchMovieCredits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits?`);\n\n    return data.cast;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchMovieReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews?`);\n\n    return data.results;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default {\n  fetchTrendingMovies,\n  fetchSearchMovies,\n  fetchMovieDetails,\n  fetchMovieCredits,\n  fetchMovieReviews,\n};\n","export default __webpack_public_path__ + \"static/media/moviePlaceholder.aa7579ed.png\";","import PropTypes from 'prop-types';\nimport styles from './Notification.module.scss';\n\nconst Notification = ({ message }) => (\n  <p className={styles.Notification}>{message}</p>\n);\n\nNotification.propTypes = {\n  message: PropTypes.string,\n};\n\nexport default Notification;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notification\":\"Notification_Notification__3WVZe\"};"],"sourceRoot":""}