{"version":3,"sources":["components/MovieDetails/MovieDetails.module.scss","components/Cast/Cast.module.scss","components/Reviews/Reviews.module.scss","pages/MovieDetailsPage/MovieDetailsPage.module.scss","components/MovieDetails/MovieDetails.jsx","images/supermanPlaceholder.png","images/superwomanPlaceholder.jpg","components/Cast/Cast.jsx","components/Reviews/Reviews.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesApi.js","images/moviePlaceholder.png"],"names":["module","exports","MovieDetails","poster_path","original_title","release_date","vote_average","overview","genres","className","styles","src","alt","moviePlaceholder","MovieDetailsWrapper","title","detailWrapper","titleDetails","text","length","map","genre","name","id","defaultProps","withRouter","movieId","location","useState","cast","setCast","useEffect","moviesApi","fetchMovieCredits","then","data","Cast","profile_path","original_name","character","gender","castItem","supermanPlaceholder","superwomanPlaceholder","castName","Reviews","reviews","setReviews","fetchMovieReviews","author","content","reviewsItem","reviewsAuthor","reviewsContent","MovieDetailsPage","props","movie","setMovie","match","params","url","path","history","fetchMovieDetails","goBackBtn","type","onClick","push","state","from","routes","addInfo","titleAddInfo","listAddInfo","to","pathname","NavLink","activeClassName","NavLinkActive","render","Loader","axios","defaults","baseURL","api_key","fetchTrendingMovies","a","get","console","log","fetchSearchMovies","searchQuery","results"],"mappings":"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","file":"static/js/MovieDetailsPage.1d303719.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieDetails\":\"MovieDetails_MovieDetails__16pit\",\"MovieDetailsWrapper\":\"MovieDetails_MovieDetailsWrapper__1fglR\",\"title\":\"MovieDetails_title__2CVSO\",\"detailWrapper\":\"MovieDetails_detailWrapper__1waDF\",\"titleDetails\":\"MovieDetails_titleDetails__1Z6oD\",\"text\":\"MovieDetails_text__2Gjhs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cast\":\"Cast_Cast__1LyqA\",\"castItem\":\"Cast_castItem__2z3Nk\",\"castName\":\"Cast_castName__37yV8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Reviews\":\"Reviews_Reviews__uSiNJ\",\"reviewsItem\":\"Reviews_reviewsItem__32J7Z\",\"reviewsAuthor\":\"Reviews_reviewsAuthor__3e9_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addInfo\":\"MovieDetailsPage_addInfo__cdf81\",\"listAddInfo\":\"MovieDetailsPage_listAddInfo__2cEN1\",\"NavLink\":\"MovieDetailsPage_NavLink__1LtAA\",\"NavLinkActive\":\"MovieDetailsPage_NavLinkActive__tfHRC\",\"goBackBtn\":\"MovieDetailsPage_goBackBtn___NTRM\"};","import PropTypes from 'prop-types';\n\nimport moviePlaceholder from 'images/moviePlaceholder.png';\nimport styles from './MovieDetails.module.scss';\n\nconst MovieDetails = ({\n  poster_path,\n  original_title,\n  release_date,\n  vote_average,\n  overview,\n  genres,\n}) => {\n  return (\n    <div className={styles.MovieDetails}>\n      {poster_path ? (\n        <img\n          src={`https://image.tmdb.org/t/p/w300${poster_path}`}\n          alt={`poster of ${original_title}`}\n        />\n      ) : (\n        <img src={moviePlaceholder} alt={`poster of ${original_title}`} />\n      )}\n\n      <div className={styles.MovieDetailsWrapper}>\n        <h2 className={styles.title}>{original_title}</h2>\n\n        {release_date && (\n          <div className={styles.detailWrapper}>\n            <p className={styles.titleDetails}>Release Date: </p>\n            <span>{release_date}</span>\n          </div>\n        )}\n        {vote_average && (\n          <div className={styles.detailWrapper}>\n            <p className={styles.titleDetails}>User Score: </p>\n            <span>{vote_average}/10</span>\n          </div>\n        )}\n        {overview && (\n          <div className={styles.detailWrapper}>\n            <h3>Overview: </h3>\n            <p className={styles.text}>{overview}</p>\n          </div>\n        )}\n        {genres.length > 0 && (\n          <div className={styles.detailWrapper}>\n            <h3 className={styles.titleDetails}>Genres:</h3>\n            <ul>\n              {genres.map(genre => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nMovieDetails.defaultProps = {\n  release_date: 'Unknown release date',\n  vote_average: 'No votes found',\n};\n\nMovieDetails.propTypes = {\n  poster_path: PropTypes.string,\n  original_title: PropTypes.string.isRequired,\n  release_date: PropTypes.string,\n  vote_average: PropTypes.number,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nexport default MovieDetails;\n","export default __webpack_public_path__ + \"static/media/supermanPlaceholder.60bed9ec.png\";","export default __webpack_public_path__ + \"static/media/superwomanPlaceholder.2e5d3757.jpg\";","import { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport moviesApi from 'services/moviesApi';\nimport supermanPlaceholder from 'images/supermanPlaceholder.png';\nimport superwomanPlaceholder from 'images/superwomanPlaceholder.jpg';\nimport styles from './Cast.module.scss';\n\nconst Cast = ({ movieId, location }) => {\n  const [cast, setCast] = useState([]);\n\n  useEffect(() => {\n    moviesApi.fetchMovieCredits(movieId).then(data => setCast(data));\n  }, [movieId]);\n\n  return (\n    cast && (\n      <ul className={styles.Cast}>\n        {cast.map(({ id, profile_path, original_name, character, gender }) => (\n          <li className={styles.castItem} key={id}>\n            {profile_path ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w200${profile_path}`}\n                alt={`poster of ${original_name}`}\n              />\n            ) : gender === 2 ? (\n              <img\n                src={supermanPlaceholder}\n                alt={`poster of ${original_name}`}\n              />\n            ) : (\n              <img\n                src={superwomanPlaceholder}\n                alt={`poster of ${original_name}`}\n              />\n            )}\n            <h2 className={styles.castName}>{original_name}</h2>\n            <p>Character: {character} </p>\n          </li>\n        ))}\n      </ul>\n    )\n  );\n};\n\nCast.propTypes = {\n  movieId: PropTypes.string.isRequired,\n};\n\nexport default withRouter(Cast);\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport moviesApi from 'services/moviesApi';\nimport styles from './Reviews.module.scss';\n\nconst Reviews = ({ movieId }) => {\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    moviesApi.fetchMovieReviews(movieId).then(data => setReviews(data));\n  }, [movieId]);\n\n  return reviews.length > 0 ? (\n    <ul className={styles.Reviews}>\n      {reviews.map(({ id, author, content }) => (\n        <li className={styles.reviewsItem} key={id}>\n          <h2 className={styles.reviewsAuthor}>Author: {author}</h2>\n          <p className={styles.reviewsContent}>{content}</p>\n        </li>\n      ))}\n    </ul>\n  ) : (\n    <p>We don't have any reviews for this movie</p>\n  );\n};\n\nReviews.propTypes = {\n  movieId: PropTypes.string.isRequired,\n};\n\nexport default Reviews;\n","import { useState, useEffect } from 'react';\nimport { Route, NavLink } from 'react-router-dom';\n\nimport MovieDetails from 'components/MovieDetails';\nimport Loader from 'components/Loader';\nimport Cast from 'components/Cast';\nimport Reviews from 'components/Reviews';\n\nimport moviesApi from 'services/moviesApi';\nimport routes from 'routes';\nimport styles from './MovieDetailsPage.module.scss';\n\n// const Cast = lazy(() =>\n//   import('components/Cast' /* webpackChunkName: \"Cast\" */),\n// );\n// const Reviews = lazy(() =>\n//   import('components/Reviews' /* webpackChunkName: \"Reviews\" */),\n// );\n\nconst MovieDetailsPage = props => {\n  const [movie, setMovie] = useState(null);\n\n  const { movieId } = props.match.params;\n  const { url, path } = props.match;\n  const { history, location } = props;\n\n  useEffect(() => {\n    moviesApi.fetchMovieDetails(movieId).then(data => setMovie(data));\n  }, [movieId]);\n\n  const handleGoBack = () => {\n    // location.state && location.state.from\n    //   ? history.push(location.state.from)\n    //   : history.push(routes.home);\n\n    history.push(location?.state?.from || routes[0].path); // аналогично верхнему тернарнику\n  };\n\n  return movie ? (\n    <>\n      <button className={styles.goBackBtn} type=\"button\" onClick={handleGoBack}>\n        Go back\n      </button>\n      <MovieDetails {...movie} />\n\n      <div className={styles.addInfo}>\n        <h3 className={styles.titleAddInfo}>Additional information</h3>\n        <ul className={styles.listAddInfo}>\n          <li>\n            <NavLink\n              to={{\n                ...location,\n                pathname: `${url}/cast`,\n              }}\n              className={styles.NavLink}\n              activeClassName={styles.NavLinkActive}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              to={{\n                ...location,\n                pathname: `${url}/reviews`,\n              }}\n              className={styles.NavLink}\n              activeClassName={styles.NavLinkActive}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n      {/* <Suspense fallback={<Loader />}> */}\n      <Route\n        path={`${path}/cast`}\n        render={props => <Cast {...props} movieId={movieId} />}\n      />\n      <Route\n        path={`${path}/reviews`}\n        render={props => <Reviews {...props} movieId={movieId} />}\n      />\n      {/* </Suspense> */}\n    </>\n  ) : (\n    <Loader />\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'f961efdd5892a3a495952701e4bb1df1';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: API_KEY };\n\nconst fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(`/trending/movie/day?page=1`);\n\n    return data;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchSearchMovies = async searchQuery => {\n  try {\n    const { data } = await axios.get(\n      `/search/movie?page=1&query=${searchQuery}`,\n    );\n\n    return data;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchMovieDetails = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}?`);\n\n    return data;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchMovieCredits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits?`);\n\n    return data.cast;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\nconst fetchMovieReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews?`);\n\n    return data.results;\n  } catch (error) {\n    console.log('error: ', error);\n  }\n};\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default {\n  fetchTrendingMovies,\n  fetchSearchMovies,\n  fetchMovieDetails,\n  fetchMovieCredits,\n  fetchMovieReviews,\n};\n","export default __webpack_public_path__ + \"static/media/moviePlaceholder.aa7579ed.png\";"],"sourceRoot":""}